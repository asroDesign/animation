import{r as d,l as w,c as o,a as t,t as l,E as k,F as P,e as C,M as E,o as a,d as x,n as F}from"./BeuPNDKa.js";import{u as N}from"./C3kHl5Uz.js";import"./DJCvy_yv.js";const $={class:"max-w-4xl mx-auto p-6"},D={key:0,class:"text-center text-gray-500 py-4"},V={key:1,class:"bg-red-100 text-red-800 p-4 rounded-md mb-4"},B={key:2},L={key:0,class:"text-center text-gray-500 py-4"},M={key:1,class:"space-y-4"},j={class:"flex justify-between items-center"},I={class:"text-lg"},S={class:"text-lg"},z={class:"text-lg"},R=["onClick"],T={key:2,class:"flex justify-between items-center mt-6"},Y=["disabled"],q={class:"text-gray-700"},A=["disabled"],O={__name:"index",setup(G){const v=d([]),r=d(1),i=d(1),m=d(0),p=d(!1),u=d(null),f=E();async function g(c=1){var e,s,b,y;p.value=!0,u.value=null;try{const{data:n,error:h}=await N(`/processes?page=${c}`,{});if(h.value)throw new Error("Failed to fetch processes.");v.value=((e=n.value)==null?void 0:e.data)||[],r.value=((s=n.value)==null?void 0:s.current_page)||1,i.value=((b=n.value)==null?void 0:b.last_page)||1,m.value=((y=n.value)==null?void 0:y.total)||0}catch(n){console.error("Error fetching processes:",n),u.value="Failed to load processes. Please try again."}finally{p.value=!1}}function _(c){f.push(`/dashboard/process/${c}`)}return w(()=>{g()}),(c,e)=>(a(),o("div",$,[e[5]||(e[5]=t("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"Your Processes",-1)),p.value?(a(),o("div",D," Loading processes... ")):u.value?(a(),o("div",V,l(u.value),1)):(a(),o("div",B,[v.value.length===0?(a(),o("div",L," No processes available. ")):(a(),o("div",M,[(a(!0),o(P,null,C(v.value,s=>(a(),o("div",{key:s.id,class:"border border-gray-100 shadow-md rounded-lg p-6 transition-transform hover:-translate-y-1"},[t("div",j,[t("div",null,[t("p",I,[e[2]||(e[2]=t("span",{class:"font-semibold"},"ID:",-1)),x(" "+l(s.id),1)]),t("p",S,[e[3]||(e[3]=t("span",{class:"font-semibold"},"Description:",-1)),x(" "+l(s.description),1)]),t("p",z,[e[4]||(e[4]=t("span",{class:"font-semibold"},"Status:",-1)),t("span",{class:F({"text-green-600":s.status==="completed","text-yellow-600":s.status==="pending","text-red-600":s.status==="failed"})},l(s.status),3)])]),t("button",{onClick:b=>_(s.id),class:"bg-gray-600 text-white hover:bg-gray-700 px-4 py-2 rounded-md font-medium transition-colors"}," View Details ",8,R)])]))),128))])),i.value>1?(a(),o("div",T,[t("button",{disabled:r.value===1,onClick:e[0]||(e[0]=s=>g(r.value-1)),class:"bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-md font-medium transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed"}," Previous ",8,Y),t("span",q," Page "+l(r.value)+" of "+l(i.value)+" ("+l(m.value)+" processes) ",1),t("button",{disabled:r.value===i.value,onClick:e[1]||(e[1]=s=>g(r.value+1)),class:"bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-md font-medium transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed"}," Next ",8,A)])):k("",!0)]))]))}};export{O as default};
