import{r,q as x,c as l,a as t,H as b,E as m,b as y,t as i,I as _,J as h,w,M as g,o as d,d as V}from"./BeuPNDKa.js";import{_ as k}from"./DF3qM6BK.js";import{u as C}from"./C3kHl5Uz.js";import"./DJCvy_yv.js";const M={class:"min-h-screen flex items-center justify-center"},N={class:"bg-white/5 p-8 rounded-lg shadow-lg w-full max-w-md"},S={key:0,class:"text-red-400 text-start"},B={class:"mb-6"},E={key:0,class:"text-red-400 text-start"},T={key:1,class:"mb-4 text-red-600 text-sm"},H={__name:"verify",setup(q){const f=g(),u=r({email:x("email").value,code:""}),s=r({}),a=r(""),o=r(!1),v=async()=>{var n;o.value=!0,a.value="";try{const{data:e,status:c,error:p}=await C("/verify",{method:"POST",body:u.value});c.value=="success"?f.push("/auth/login"):s.value=p.value.data.errors}catch(e){a.value=((n=e.data)==null?void 0:n.message)||"Verification failed."}finally{o.value=!1}};return(n,e)=>(d(),l("div",M,[t("div",N,[e[2]||(e[2]=t("h1",{class:"text-2xl font-bold mb-6 text-center"},"Email verification",-1)),t("form",{onSubmit:b(v,["prevent"])},[s.value.password?(d(),l("span",S,i(s.value.email[0]),1)):m("",!0),t("div",B,[e[1]||(e[1]=t("label",{for:"code",class:"block text-sm font-medium"},"Verification code",-1)),_(t("input",{id:"code","onUpdate:modelValue":e[0]||(e[0]=c=>u.value.code=c),type:"text",class:"w-full py-2 px-4 bg-[#14082A] border border-[#514078] rounded-2xl text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-primary",required:""},null,512),[[h,u.value.code]]),s.value.password?(d(),l("span",E,i(s.value.code[0]),1)):m("",!0)]),a.value?(d(),l("div",T,i(a.value),1)):m("",!0),y(k,{type:"submit",class:"w-full p-2 rounded-md hover:bg-blue-600",disabled:o.value},{default:w(()=>[V(i(o.value?"Confirming...":"Confirmed"),1)]),_:1},8,["disabled"])],32)])]))}};export{H as default};
